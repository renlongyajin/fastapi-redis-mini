# 下一步开发计划（更新于 2025-11-12）

## 核心目标
- 以 TDD 驱动实现 FastAPI + Redis 最小链路，优先确保测试基线，再逐步补齐 API 与 Worker。

## 开发步骤
1. **编写端到端测试套件**：使用 `pytest`、`httpx.AsyncClient` 与 `fakeredis`，覆盖 `POST /tasks` 提交、`GET /tasks/{id}` 查询、缓存命中与失败路径，形成可运行的红灯测试。
2. **实现 FastAPI API 层**：依据测试约定创建 `app/main.py`、`schemas.py` 与 `services`，串联 Redis 连接与状态写入，使测试转为绿灯。
3. **补全 Worker 与缓存回写**：实现 `worker/runner.py` 与 `worker/job_handler.py`，处理任务状态流转、异常回写与缓存刷新。
4. **完善 Profiling/压测与文档**：补充 `tools/profile.py`、`tools/load_test.py` 与 README 操作指南，确保面试讲解材料完整。

## 验收标准
- `pytest` 全量通过，端到端流程覆盖核心状态机。
- API 与 Worker 代码遵循手册约定，Redis 交互无阻塞/竞态。
- 文档同步更新，可直接复述运行与部署步骤。
